<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= media.title %>
    </title>
    <link rel="shortcut icon" href="/logo/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/admin.css">
    <script src="/css/tailwindcss.css"></script>
    <script src="/js/fontawesome.js" defer></script>
</head>

<body>
    <div class="flex flex-col h-screen">
        <%- include('../Component/header') %>

            <div class="flex flex-1 overflow-hidden">
                <aside id="aside"
                    class="bg-white w-64 h-full fixed lg:relative transform -translate-x-full lg:translate-x-0 transition-transform z-50">
                    <%- include('../Component/aside') %>
                </aside>

                <main id="mainContent" class="flex-1 p-4 mb-5 bg-gray-50 overflow-hidden overflow-y-auto transition-all">
                    <div class="flex flex-col md:flex-row gap-4 p-4 border bg-white rounded-lg shadow-md">
                        <!-- Thumbnail Section -->
                        <div class="thum w-full md:w-[150px] md:h-[200px] flex justify-center items-center">
                            <img src="<%= media.poster %>" alt="อนิเมะ<%= media.title %>"
                                class="rounded-lg shadow-lg object-cover w-[150px] h-[200px] md:w-full md:h-[200px]"
                                loading="lazy">
                        </div>

                        <!-- Info Section -->
                        <div class="flex flex-col flex-1">
                            <h3 class="text-lg md:text-2xl font-medium text-gray-800">
                                <%= media.title %>
                            </h3>
                            <p class="text-sm md:text-base text-gray-600 mt-2">
                                หมวดหมู่ :
                                <span class="bg-blue-100 text-blue-600 rounded px-2 py-1">
                                    <%= media.categories %>
                                </span>
                            </p>
                            <article class="text-sm md:text-base font-light text-gray-700 mt-2">
                                <%= media.description %>
                            </article>
                        </div>
                    </div>


                    <!-- Episoles -->
                    <div class="flex flex-wrap bg-white shadow-lg rounded-lg p-4 mt-5">
                        <div class="mt-1">
                            <h4 class="text-lg md:text-xl font-semibold text-gray-800 mb-4">จำนวนตอนทั้งหมด: <%=
                                    media.episodes.length %>
                            </h4>
                            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                                <% media.episodes.forEach(function(episode) { %>
                                    <div
                                        class="flex cursor-pointer flex-col items-center border rounded-lg p-3 shadow hover:shadow-lg transition-shadow">
                                        <a href="/play/<%= media.videoid %>/<%= episode.videoid %>" target="_blank">
                                            <% if (episode.episodenumber) {%>
                                                <h5 class="text-sm md:text-base font-medium text-gray-800">
                                                    ตอนที่ <%= episode.episodenumber %>
                                                </h5>
                                                <% } %>
                                                    <p class="text-xs md:text-sm text-gray-600">
                                                        <%= episode.title %>
                                             </p>
                                        </a>
                                    </div>
                                    <% }); %>
                            </div>
                        </div>

                </main>
            </div>
    </div>

    <script src="/js/admin/index.js"></script>
</body>

</html>